<html>
	<head>
        <title>Block Destroyer</title>
        <link rel="stylesheet" type="text/css" href="style.css">
		<script src="p5/p5.js"></script>
		<script src="p5/addons/p5.sound.js"></script>
		<script src="p5/p5.play/lib/p5.play.js"></script>
	</head>
	<body>
		<script>
			var background_image;
			var Slider;
			var Ball;
			var WALL_THICKNESS = 20;
			var TOP_WALL;
			var LEFT_WALL;
			var RIGHT_WALL;
			var MAX_SPEED = 9;

			function preload(){
			 background_image = loadImage("Assets/Andromeda_Galaxy.jpg");
			}

			function setup(){
				createCanvas(1890, 930);
				var ballimg = loadImage('Assets/Ball.png');
				var img = loadImage('Assets/Slider.png');
				var brick = loadImage('Assets/Brick.png');

				TOP_WALL = createSprite(width/2, -WALL_THICKNESS/2, width+WALL_THICKNESS*2, WALL_THICKNESS);
				TOP_WALL.immovable = true;
				LEFT_WALL = createSprite(-WALL_THICKNESS/2, height/2, WALL_THICKNESS, height);
				LEFT_WALL.immovable = true;
				RIGHT_WALL = createSprite(width+WALL_THICKNESS/2, height/2, WALL_THICKNESS, height);
				RIGHT_WALL.immovable = true;
				Ball = createSprite(930, 600);
				Ball.maxSpeed = MAX_SPEED;
				Slider = createSprite(1900 / 2, 680);
				Ball.addImage(ballimg);
				Slider.addImage(img);
				Slider.immovable = true;
			}

			function draw(){
				clear();

				background(background_image);

				drawSprites();

				Ball.bounce(TOP_WALL);
				Ball.bounce(LEFT_WALL);
				Ball.bounce(RIGHT_WALL);

				if(keyWentDown(LEFT_ARROW) == true){
					Slider.setSpeed(-10, 0);
				}
				if(keyWentDown(RIGHT_ARROW) == true){
					Slider.setSpeed(10, 360);
				}
				if(keyWentUp(LEFT_ARROW) == true){
					Slider.setSpeed(0, 180);
				}
				if(keyWentUp(RIGHT_ARROW) == true){
					Slider.setSpeed(0, 180);
				}
				if(Ball.bounce(Slider)){
					Ball.velocity.y = -10;
				}
				if(Ball.velocity.x == 0 && Ball.velocity.y == 0){
    				Ball.setSpeed(MAX_SPEED, random(90-10, 90+10));
				}
			}
		</script>
	</body>
</html>